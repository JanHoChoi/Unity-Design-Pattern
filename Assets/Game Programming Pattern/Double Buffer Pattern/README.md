# Double Buffer Pattern 双缓冲模式

## Usage 用途

当以下几个条件都成立时，可能会自然而然的使用双缓冲模式：

- 需要维护一些被逐步改变的状态量；
- 同一个状态可能会在被修改的同时被访问；
- 希望避免访问状态的代码能看到具体的工作过程；
- 希望能读取状态但不希望等待写入操作；

比如：渲染缓冲区就是使用双缓冲模式。

## Attention 注意事项

1. 交换缓冲区的操作应为原子操作，而且交换过程应该耗时极短。如果交换过程比修改初始状态耗费更多的时间，那还不如不用这个模式；
2. 双缓冲模式会增加实用的内存，毕竟用了两份缓冲区；

## Extensions 引申

很多图形api都用到了双缓冲模式：

- OpenGL的swapBuffers()
- Direct3D的swap chains
- XNA框架的endDraw()